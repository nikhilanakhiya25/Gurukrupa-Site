{"ast":null,"code":"import React,{useContext}from'react';import{CartContext}from'../../contexts/CartContext';import{useNavigate}from'react-router-dom';import'./Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){const{cart,removeFromCart,updateQty}=useContext(CartContext);const navigate=useNavigate();// ⭐ Ensure price is treated as number\nconst total=cart.reduce((sum,i)=>sum+Number(i.price)*i.qty,0);if(cart.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page empty-cart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Cart is Empty\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add products to your cart to see them here.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"continue-btn\",onClick:()=>navigate('/products'),children:\"Continue Shopping\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Shopping Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image||'https://via.placeholder.com/100',alt:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",Number(item.price).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qty-control\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQty(item._id,item.qty-1),disabled:item.qty===1,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.qty}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQty(item._id,item.qty+1),children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal: \\u20B9\",(Number(item.price)*item.qty).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removeFromCart(item._id),children:\"Remove\"})]},item._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total: \\u20B9\",total.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkout-btn\",onClick:()=>navigate('/checkout'),children:\"Proceed to Checkout\"})]})]});}","map":{"version":3,"names":["React","useContext","CartContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Cart","cart","removeFromCart","updateQty","navigate","total","reduce","sum","i","Number","price","qty","length","className","children","onClick","map","item","src","image","alt","name","toFixed","_id","disabled"],"sources":["C:/Users/anakhiya nikhil/OneDrive/Desktop/mern-ecommerce-full/Gurukrupa-Site/frontend/src/components/Cart/Cart.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { CartContext } from '../../contexts/CartContext';\nimport { useNavigate } from 'react-router-dom';\nimport './Cart.css';\n\nexport default function Cart() {\n  const { cart, removeFromCart, updateQty } = useContext(CartContext);\n  const navigate = useNavigate();\n\n  // ⭐ Ensure price is treated as number\n  const total = cart.reduce(\n    (sum, i) => sum + Number(i.price) * i.qty,\n    0\n  );\n\n  if (cart.length === 0) {\n    return (\n      <div className=\"cart-page empty-cart\">\n        <h2>Your Cart is Empty</h2>\n        <p>Add products to your cart to see them here.</p>\n        <button\n          className=\"continue-btn\"\n          onClick={() => navigate('/products')}\n        >\n          Continue Shopping\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart-page\">\n      <h2>Your Shopping Cart</h2>\n\n      <div className=\"cart-items\">\n        {cart.map(item => (\n          <div key={item._id} className=\"cart-card\">\n\n            {/* Product Image */}\n            <img\n              src={item.image || 'https://via.placeholder.com/100'}\n              alt={item.name}\n            />\n\n            <div className=\"cart-info\">\n              <h3>{item.name}</h3>\n\n              {/* ⭐ Ensure price formatted correctly */}\n              <p>₹{Number(item.price).toFixed(2)}</p>\n\n              {/* Quantity Controls */}\n              <div className=\"qty-control\">\n                <button\n                  onClick={() => updateQty(item._id, item.qty - 1)}\n                  disabled={item.qty === 1}\n                >\n                  -\n                </button>\n\n                <span>{item.qty}</span>\n\n                <button\n                  onClick={() => updateQty(item._id, item.qty + 1)}\n                >\n                  +\n                </button>\n              </div>\n\n              {/* ⭐ Fix subtotal */}\n              <p>\n                Subtotal: ₹{(Number(item.price) * item.qty).toFixed(2)}\n              </p>\n            </div>\n\n            {/* Remove Item */}\n            <button\n              className=\"remove-btn\"\n              onClick={() => removeFromCart(item._id)}\n            >\n              Remove\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* Cart Summary */}\n      <div className=\"cart-summary\">\n        <h3>Total: ₹{total.toFixed(2)}</h3>\n\n        <button\n          className=\"checkout-btn\"\n          onClick={() => navigate('/checkout')}\n        >\n          Proceed to Checkout\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}