{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anakhiya nikhil\\\\OneDrive\\\\Desktop\\\\mern-ecommerce-full\\\\Gurukrupa-Site\\\\frontend\\\\src\\\\components\\\\ProductList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport API from '../api/api';\nimport { CartContext } from '../contexts/CartContext';\nimport './productlist.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://localhost:5000'; // ðŸ”´ change when deployed\n\nexport default function ProductList() {\n  _s();\n  const {\n    addToCart\n  } = useContext(CartContext);\n  const [products, setProducts] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n\n  // filters\n  const [search, setSearch] = useState('');\n  const [category, setCategory] = useState('All');\n  const [price, setPrice] = useState(1000);\n\n  // Load products\n  useEffect(() => {\n    API.get('/products').then(res => {\n      const list = res.data.products || res.data;\n      setProducts(list);\n      setFiltered(list);\n    }).catch(err => console.error(err));\n  }, []);\n\n  // Apply filters\n  function applyFilters() {\n    let list = [...products];\n    if (search.trim()) {\n      list = list.filter(p => {\n        var _p$name;\n        return (_p$name = p.name) === null || _p$name === void 0 ? void 0 : _p$name.toLowerCase().includes(search.toLowerCase());\n      });\n    }\n    if (category !== 'All') {\n      list = list.filter(p => p.category === category);\n    }\n    list = list.filter(p => Number(p.price) <= price);\n    setFiltered(list);\n  }\n  useEffect(() => {\n    applyFilters();\n  }, [search, category, price, products]);\n\n  // Unique categories\n  const categories = ['All', ...new Set(products.map(p => p.category).filter(Boolean))];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search products...\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          children: categories.map((cat, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Max Price: \\u20B9\", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"10000\",\n          value: price,\n          onChange: e => setPrice(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-grid\",\n      children: [filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 35\n      }, this), filtered.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"img-box\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: p.image ? `${BASE_URL}${p.image}` : 'https://via.placeholder.com/250',\n            alt: p.name,\n            onError: e => {\n              e.target.src = 'https://via.placeholder.com/250';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"price\",\n          children: [\"\\u20B9\", p.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-add\",\n          onClick: () => addToCart(p, 1),\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, p._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductList, \"GRwIfrEdmf4BduamSoSqlS4SSZg=\");\n_c = ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","useContext","API","CartContext","jsxDEV","_jsxDEV","BASE_URL","ProductList","_s","addToCart","products","setProducts","filtered","setFiltered","search","setSearch","category","setCategory","price","setPrice","get","then","res","list","data","catch","err","console","error","applyFilters","trim","filter","p","_p$name","name","toLowerCase","includes","Number","categories","Set","map","Boolean","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","cat","index","min","max","length","src","image","alt","onError","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/anakhiya nikhil/OneDrive/Desktop/mern-ecommerce-full/Gurukrupa-Site/frontend/src/components/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport API from '../api/api';\nimport { CartContext } from '../contexts/CartContext';\nimport './productlist.css';\n\nconst BASE_URL = 'http://localhost:5000'; // ðŸ”´ change when deployed\n\nexport default function ProductList() {\n  const { addToCart } = useContext(CartContext);\n\n  const [products, setProducts] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n\n  // filters\n  const [search, setSearch] = useState('');\n  const [category, setCategory] = useState('All');\n  const [price, setPrice] = useState(1000);\n\n  // Load products\n  useEffect(() => {\n    API.get('/products')\n      .then(res => {\n        const list = res.data.products || res.data;\n        setProducts(list);\n        setFiltered(list);\n      })\n      .catch(err => console.error(err));\n  }, []);\n\n  // Apply filters\n  function applyFilters() {\n    let list = [...products];\n\n    if (search.trim()) {\n      list = list.filter(p =>\n        p.name?.toLowerCase().includes(search.toLowerCase())\n      );\n    }\n\n    if (category !== 'All') {\n      list = list.filter(p => p.category === category);\n    }\n\n    list = list.filter(p => Number(p.price) <= price);\n\n    setFiltered(list);\n  }\n\n  useEffect(() => {\n    applyFilters();\n  }, [search, category, price, products]);\n\n  // Unique categories\n  const categories = ['All', ...new Set(products.map(p => p.category).filter(Boolean))];\n\n  return (\n    <div className=\"product-page\">\n\n      {/* ===== SIDEBAR FILTERS ===== */}\n      <div className=\"filters\">\n        <h3>Filters</h3>\n\n        <div className=\"filter-box\">\n          <label>Search</label>\n          <input\n            type=\"text\"\n            placeholder=\"Search products...\"\n            value={search}\n            onChange={e => setSearch(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-box\">\n          <label>Category</label>\n          <select value={category} onChange={e => setCategory(e.target.value)}>\n            {categories.map((cat, index) => (\n              <option key={index} value={cat}>\n                {cat}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"filter-box\">\n          <label>Max Price: â‚¹{price}</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"10000\"\n            value={price}\n            onChange={e => setPrice(Number(e.target.value))}\n          />\n        </div>\n      </div>\n\n      {/* ===== PRODUCT GRID ===== */}\n      <div className=\"products-grid\">\n        {filtered.length === 0 && <p>No products found</p>}\n\n        {filtered.map(p => (\n          <div key={p._id} className=\"product-card\">\n            <div className=\"img-box\">\n              <img\n                src={\n                  p.image\n                    ? `${BASE_URL}${p.image}`\n                    : 'https://via.placeholder.com/250'\n                }\n                alt={p.name}\n                onError={(e) => {\n                  e.target.src = 'https://via.placeholder.com/250';\n                }}\n              />\n            </div>\n\n            <h3>{p.name}</h3>\n            <p className=\"price\">â‚¹{p.price}</p>\n\n            <button\n              className=\"btn-add\"\n              onClick={() => addToCart(p, 1)}\n            >\n              Add to Cart\n            </button>\n          </div>\n        ))}\n      </div>\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}