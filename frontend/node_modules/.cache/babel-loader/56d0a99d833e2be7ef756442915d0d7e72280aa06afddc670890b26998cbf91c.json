{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anakhiya nikhil\\\\Downloads\\\\mern-ecommerce-full\\\\frontend\\\\src\\\\components\\\\Admin\\\\AdminPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminPanel() {\n  _s();\n  const [form, setForm] = useState({});\n  const [file, setFile] = useState(null);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    load();\n  }, []);\n  function load() {\n    API.get('/products').then(r => setProducts(r.data.products || r.data)).catch(console.error);\n  }\n  async function submit(e) {\n    e.preventDefault();\n    const fd = new FormData();\n    fd.append('name', form.name || '');\n    fd.append('description', form.description || '');\n    fd.append('price', form.price || 0);\n    fd.append('colors', form.colors || '');\n    fd.append('countInStock', form.countInStock || 0);\n    if (file) fd.append('image', file);\n    try {\n      await API.post('/admin/product', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Saved');\n      setForm({});\n      setFile(null);\n      load();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message);\n    }\n  }\n  async function remove(id) {\n    try {\n      await API.delete('/admin/product/' + id);\n      load();\n    } catch (e) {\n      alert(e.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin - Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1101\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"admin-form\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Name\",\n        onChange: e => setForm({\n          ...form,\n          name: e.target.value\n        }),\n        value: form.name || ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1175\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Price\",\n        onChange: e => setForm({\n          ...form,\n          price: e.target.value\n        }),\n        value: form.price || ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1287\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Colors (comma)\",\n        onChange: e => setForm({\n          ...form,\n          colors: e.target.value\n        }),\n        value: form.colors || ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1402\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Stock\",\n        onChange: e => setForm({\n          ...form,\n          countInStock: e.target.value\n        }),\n        value: form.countInStock || ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1528\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1657\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1722\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1127\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-list\",\n      children: [\" \", products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-card\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: p.image || 'https://via.placeholder.com/120',\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1,\n          columnNumber: 1849\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [p.name, \" - $\", p.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1,\n          columnNumber: 1915\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => remove(p._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1,\n          columnNumber: 1948\n        }, this), \" \"]\n      }, p._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1808\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1759\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1,\n    columnNumber: 1071\n  }, this);\n}\n_s(AdminPanel, \"5FjDQaBeoYq1NkUc8jhfO61OiZk=\");\n_c = AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","AdminPanel","_s","form","setForm","file","setFile","products","setProducts","load","get","then","r","data","catch","console","error","submit","e","preventDefault","fd","FormData","append","name","description","price","colors","countInStock","post","headers","alert","err","_err$response","_err$response$data","response","message","remove","id","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","target","value","type","files","map","p","src","image","alt","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/anakhiya nikhil/Downloads/mern-ecommerce-full/frontend/src/components/Admin/AdminPanel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'; import API from '../../api/api'; export default function AdminPanel() { const [form, setForm] = useState({}); const [file, setFile] = useState(null); const [products, setProducts] = useState([]); useEffect(() => { load(); }, []); function load() { API.get('/products').then(r => setProducts(r.data.products || r.data)).catch(console.error); } async function submit(e) { e.preventDefault(); const fd = new FormData(); fd.append('name', form.name || ''); fd.append('description', form.description || ''); fd.append('price', form.price || 0); fd.append('colors', form.colors || ''); fd.append('countInStock', form.countInStock || 0); if (file) fd.append('image', file); try { await API.post('/admin/product', fd, { headers: { 'Content-Type': 'multipart/form-data' } }); alert('Saved'); setForm({}); setFile(null); load(); } catch (err) { alert(err.response?.data?.message || err.message); } } async function remove(id) { try { await API.delete('/admin/product/' + id); load(); } catch (e) { alert(e.message); } } return (<div className=\"admin-panel\"> <h2>Admin - Products</h2> <form onSubmit={submit} className=\"admin-form\"> <input placeholder=\"Name\" onChange={e => setForm({ ...form, name: e.target.value })} value={form.name || ''} /> <input placeholder=\"Price\" onChange={e => setForm({ ...form, price: e.target.value })} value={form.price || ''} /> <input placeholder=\"Colors (comma)\" onChange={e => setForm({ ...form, colors: e.target.value })} value={form.colors || ''} /> <input placeholder=\"Stock\" onChange={e => setForm({ ...form, countInStock: e.target.value })} value={form.countInStock || ''} /> <input type=\"file\" onChange={e => setFile(e.target.files[0])} /> <button>Add Product</button> </form> <div className=\"admin-list\"> {products.map(p => (<div key={p._id} className=\"admin-card\"> <img src={p.image || 'https://via.placeholder.com/120'} alt=\"\" /> <div>{p.name} - ${p.price}</div> <button onClick={() => remove(p._id)}>Delete</button> </div>))} </div> </div>); }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}