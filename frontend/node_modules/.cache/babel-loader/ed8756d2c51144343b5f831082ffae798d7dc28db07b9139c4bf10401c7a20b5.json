{"ast":null,"code":"import _objectSpread from\"C:/Users/anakhiya nikhil/OneDrive/Desktop/mern-ecommerce-full/Gurukrupa-Site/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/contexts/CartContext.js\nimport{createContext,useState}from\"react\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const addToCart=function(product){let qty=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;const mongoId=product._id||product.id||product.productId;if(!mongoId){toast.error(\"Product ID missing\");return;}setCart(prev=>{const exists=prev.find(item=>item._id===mongoId);if(exists){toast.success(\"Quantity updated\");return prev.map(item=>item._id===mongoId?_objectSpread(_objectSpread({},item),{},{qty:item.qty+qty}):item);}toast.success(\"Added to cart\");return[...prev,_objectSpread(_objectSpread({},product),{},{_id:mongoId,qty})];});};const removeFromCart=id=>{setCart(prev=>prev.filter(item=>item._id!==id));toast.info(\"Removed from cart\");};const updateQty=(id,newQty)=>{if(newQty<1)return;setCart(prev=>prev.map(item=>item._id===id?_objectSpread(_objectSpread({},item),{},{qty:newQty}):item));};const clearCart=()=>setCart([]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,addToCart,removeFromCart,updateQty,clearCart},children:children});};","map":{"version":3,"names":["createContext","useState","toast","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","addToCart","product","qty","arguments","length","undefined","mongoId","_id","id","productId","error","prev","exists","find","item","success","map","_objectSpread","removeFromCart","filter","info","updateQty","newQty","clearCart","Provider","value"],"sources":["C:/Users/anakhiya nikhil/OneDrive/Desktop/mern-ecommerce-full/Gurukrupa-Site/frontend/src/contexts/CartContext.js"],"sourcesContent":["// frontend/src/contexts/CartContext.js\nimport { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState([]);\n\n  const addToCart = (product, qty = 1) => {\n    const mongoId = product._id || product.id || product.productId;\n    if (!mongoId) {\n      toast.error(\"Product ID missing\");\n      return;\n    }\n\n    setCart(prev => {\n      const exists = prev.find(item => item._id === mongoId);\n      if (exists) {\n        toast.success(\"Quantity updated\");\n        return prev.map(item =>\n          item._id === mongoId ? { ...item, qty: item.qty + qty } : item\n        );\n      }\n      toast.success(\"Added to cart\");\n      return [...prev, { ...product, _id: mongoId, qty }];\n    });\n  };\n\n  const removeFromCart = id => {\n    setCart(prev => prev.filter(item => item._id !== id));\n    toast.info(\"Removed from cart\");\n  };\n\n  const updateQty = (id, newQty) => {\n    if (newQty < 1) return;\n    setCart(prev => prev.map(item => item._id === id ? { ...item, qty: newQty } : item));\n  };\n\n  const clearCart = () => setCart([]);\n\n  return (\n    <CartContext.Provider value={{ cart, addToCart, removeFromCart, updateQty, clearCart }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n"],"mappings":"0KAAA;AACA,OAASA,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvC,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAU,SAAS,CAAG,QAAAA,CAACC,OAAO,CAAc,IAAZ,CAAAC,GAAG,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CACjC,KAAM,CAAAG,OAAO,CAAGL,OAAO,CAACM,GAAG,EAAIN,OAAO,CAACO,EAAE,EAAIP,OAAO,CAACQ,SAAS,CAC9D,GAAI,CAACH,OAAO,CAAE,CACZf,KAAK,CAACmB,KAAK,CAAC,oBAAoB,CAAC,CACjC,OACF,CAEAX,OAAO,CAACY,IAAI,EAAI,CACd,KAAM,CAAAC,MAAM,CAAGD,IAAI,CAACE,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACP,GAAG,GAAKD,OAAO,CAAC,CACtD,GAAIM,MAAM,CAAE,CACVrB,KAAK,CAACwB,OAAO,CAAC,kBAAkB,CAAC,CACjC,MAAO,CAAAJ,IAAI,CAACK,GAAG,CAACF,IAAI,EAClBA,IAAI,CAACP,GAAG,GAAKD,OAAO,CAAAW,aAAA,CAAAA,aAAA,IAAQH,IAAI,MAAEZ,GAAG,CAAEY,IAAI,CAACZ,GAAG,CAAGA,GAAG,GAAKY,IAC5D,CAAC,CACH,CACAvB,KAAK,CAACwB,OAAO,CAAC,eAAe,CAAC,CAC9B,MAAO,CAAC,GAAGJ,IAAI,CAAAM,aAAA,CAAAA,aAAA,IAAOhB,OAAO,MAAEM,GAAG,CAAED,OAAO,CAAEJ,GAAG,GAAG,CACrD,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAgB,cAAc,CAAGV,EAAE,EAAI,CAC3BT,OAAO,CAACY,IAAI,EAAIA,IAAI,CAACQ,MAAM,CAACL,IAAI,EAAIA,IAAI,CAACP,GAAG,GAAKC,EAAE,CAAC,CAAC,CACrDjB,KAAK,CAAC6B,IAAI,CAAC,mBAAmB,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGA,CAACb,EAAE,CAAEc,MAAM,GAAK,CAChC,GAAIA,MAAM,CAAG,CAAC,CAAE,OAChBvB,OAAO,CAACY,IAAI,EAAIA,IAAI,CAACK,GAAG,CAACF,IAAI,EAAIA,IAAI,CAACP,GAAG,GAAKC,EAAE,CAAAS,aAAA,CAAAA,aAAA,IAAQH,IAAI,MAAEZ,GAAG,CAAEoB,MAAM,GAAKR,IAAI,CAAC,CAAC,CACtF,CAAC,CAED,KAAM,CAAAS,SAAS,CAAGA,CAAA,GAAMxB,OAAO,CAAC,EAAE,CAAC,CAEnC,mBACEN,IAAA,CAACC,WAAW,CAAC8B,QAAQ,EAACC,KAAK,CAAE,CAAE3B,IAAI,CAAEE,SAAS,CAAEkB,cAAc,CAAEG,SAAS,CAAEE,SAAU,CAAE,CAAA1B,QAAA,CACpFA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}